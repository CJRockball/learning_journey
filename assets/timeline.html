<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patrick Carlberg - Learning Journey Timeline</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            margin: 0;
            padding: 20px;
            background: #0d1117;
            color: #c9d1d9;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            color: #58a6ff;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: #8b949e;
            margin-bottom: 30px;
        }
        #timeline {
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 6px;
        }
        .tooltip {
            position: absolute;
            background: rgba(13, 17, 23, 0.95);
            color: #c9d1d9;
            padding: 12px;
            border-radius: 6px;
            border: 1px solid #30363d;
            pointer-events: none;
            font-size: 12px;
            line-height: 1.4;
            box-shadow: 0 8px 24px rgba(0,0,0,0.4);
        }
        .controls {
            text-align: center;
            margin-bottom: 20px;
        }
        .filter-btn {
            background: #21262d;
            border: 1px solid #30363d;
            color: #c9d1d9;
            padding: 6px 12px;
            margin: 0 4px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
        }
        .filter-btn:hover {
            background: #30363d;
        }
        .filter-btn.active {
            background: #238636;
            border-color: #238636;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Patrick Carlberg - Data Science Learning Journey</h1>
        <p class="subtitle">Interactive timeline showing 70+ projects across 5 years of intensive learning (2020-2025)</p>
        
        <div class="controls">
            <button class="filter-btn active" data-filter="all">All Projects</button>
            <button class="filter-btn" data-filter="web">Web Development</button>
            <button class="filter-btn" data-filter="ml">Machine Learning</button>
            <button class="filter-btn" data-filter="dl">Deep Learning</button>
            <button class="filter-btn" data-filter="ai">Modern AI</button>
            <button class="filter-btn" data-filter="finance">Finance</button>
            <button class="filter-btn" data-filter="gpu">GPU Computing</button>
        </div>
        
        <div id="timeline"></div>
    </div>

    <script>
        // Project timeline data
        const timelineData = [
            // 2021 - Foundation Phase
            {date: "2021-01-29", title: "Online Stock DB Graphs", category: "web", phase: "foundations", duration: 5, description: "Flask/Bokeh dashboard for stock visualization"},
            {date: "2021-03-04", title: "IEEE Fraud Dataset", category: "ml", phase: "foundations", duration: 9, description: "Exploratory data analysis on fraud detection"},
            {date: "2021-04-01", title: "TensorFlow Coursera", category: "dl", phase: "foundations", duration: 60, description: "Deep learning specialization completion"},
            {date: "2021-06-10", title: "Reinforcement Learning", category: "ml", phase: "foundations", duration: 11, description: "RL algorithms and trading strategies"},
            {date: "2021-07-15", title: "Bayesian Statistics", category: "stats", phase: "foundations", duration: 31, description: "Multilevel models and statistical rethinking"},
            {date: "2021-09-23", title: "Million Song XGB", category: "ml", phase: "foundations", duration: 5, description: "XGBoost model on large music dataset"},
            {date: "2021-10-01", title: "Flask Heroku Deploy", category: "web", phase: "foundations", duration: 11, description: "First production web deployment"},
            
            // 2022 - Applied ML Phase
            {date: "2022-01-06", title: "FastAPI Dashboard", category: "web", phase: "applied", duration: 21, description: "Modern API development with FastAPI"},
            {date: "2022-02-14", title: "Mandelbrot GPU", category: "gpu", phase: "applied", duration: 69, description: "CUDA fractals and GPU programming"},
            {date: "2022-03-19", title: "Option Pricing GPU", category: "finance", phase: "applied", duration: 5, description: "Financial modeling with GPU acceleration"},
            {date: "2022-08-15", title: "PyTorch MNIST/GAN", category: "dl", phase: "applied", duration: 7, description: "Deep learning with PyTorch"},
            {date: "2022-11-02", title: "CitiBike Big Data (28GB)", category: "bigdata", phase: "applied", duration: 26, description: "Large-scale data processing"},
            
            // 2023 - Production Phase
            {date: "2023-01-28", title: "Large Timeseries XGB", category: "ml", phase: "production", duration: 54, description: "Production timeseries forecasting"},
            {date: "2023-04-04", title: "FastAPI Microservices", category: "web", phase: "production", duration: 11, description: "Microservice architecture design"},
            {date: "2023-07-20", title: "NLP Book Project", category: "nlp", phase: "production", duration: 37, description: "Natural language processing pipeline"},
            {date: "2023-09-08", title: "Singa-Rent Full Stack", category: "web", phase: "production", duration: 35, description: "Complete web scraping application"},
            {date: "2023-10-13", title: "CUDA Programming", category: "gpu", phase: "production", duration: 2, description: "Advanced GPU programming"},
            
            // 2024 - Modern AI Phase
            {date: "2024-03-21", title: "Time Series Analysis", category: "stats", phase: "modern", duration: 16, description: "Advanced statistical modeling"},
            {date: "2024-06-19", title: "PyTorch RNN Timeseries", category: "dl", phase: "modern", duration: 4, description: "Recurrent neural networks"},
            {date: "2024-07-14", title: "Kaggle PyTorch Competition", category: "competition", phase: "modern", duration: 17, description: "Competitive machine learning"},
            {date: "2024-08-26", title: "NeurIPS Ariel Challenge", category: "competition", phase: "modern", duration: 11, description: "Advanced ML competition"},
            {date: "2024-10-17", title: "Jane Street Competition", category: "finance", phase: "modern", duration: 15, description: "Financial ML competition"},
            {date: "2024-12-31", title: "CIBMTR Survival Models", category: "ml", phase: "modern", duration: 18, description: "Medical survival analysis"},
            
            // 2025 - Current
            {date: "2025-03-25", title: "LangChain/LangGraph", category: "ai", phase: "modern", duration: 8, description: "Modern AI framework integration"},
            {date: "2025-07-04", title: "Streamlit RAG Chat", category: "ai", phase: "modern", duration: 10, description: "RAG chatbot application"},
            {date: "2025-07-18", title: "FastAPI ML Serving", category: "web", phase: "modern", duration: 4, description: "Production ML model serving"}
        ];

        // Categories and colors (GitHub dark theme compatible)
        const categoryColors = {
            "web": "#58a6ff",
            "ml": "#f85149", 
            "dl": "#a5a5f8",
            "stats": "#f0883e",
            "gpu": "#3fb950",
            "finance": "#56d364",
            "bigdata": "#7c3aed",
            "nlp": "#ffa657",
            "competition": "#d2a8ff",
            "ai": "#ff7b72"
        };

        const phaseColors = {
            "foundations": "#0969da",
            "applied": "#1f6feb", 
            "production": "#7c3aed",
            "modern": "#d2a8ff"
        };

        // Set up dimensions
        const container = d3.select('#timeline');
        const margin = {top: 50, right: 180, bottom: 80, left: 100};
        const width = 1000 - margin.left - margin.right;
        const height = 500 - margin.top - margin.bottom;

        // Create SVG
        const svg = container
            .append('svg')
            .attr('width', width + margin.left + margin.right)
            .attr('height', height + margin.top + margin.bottom);

        const g = svg.append('g')
            .attr('transform', `translate(${margin.left},${margin.top})`);

        // Parse dates
        const parseDate = d3.timeParse("%Y-%m-%d");
        timelineData.forEach(d => {
            d.date = parseDate(d.date);
        });

        // Set up scales
        const xScale = d3.scaleTime()
            .domain(d3.extent(timelineData, d => d.date))
            .range([0, width]);

        const yScale = d3.scaleBand()
            .domain(['foundations', 'applied', 'production', 'modern'])
            .range([0, height])
            .padding(0.2);

        // Create timeline axis
        const xAxis = d3.axisBottom(xScale)
            .tickFormat(d3.timeFormat("%Y"))
            .tickSizeOuter(0);

        g.append('g')
            .attr('class', 'x-axis')
            .attr('transform', `translate(0,${height})`)
            .call(xAxis)
            .selectAll('text')
            .style('fill', '#c9d1d9');

        g.select('.x-axis')
            .selectAll('path, line')
            .style('stroke', '#30363d');

        // Add phase labels
        g.selectAll('.phase-label')
            .data(['foundations', 'applied', 'production', 'modern'])
            .enter()
            .append('text')
            .attr('class', 'phase-label')
            .attr('x', -10)
            .attr('y', d => yScale(d) + yScale.bandwidth()/2)
            .attr('dy', '0.35em')
            .style('text-anchor', 'end')
            .style('font-weight', 'bold')
            .style('font-size', '14px')
            .style('fill', '#c9d1d9')
            .text(d => d.charAt(0).toUpperCase() + d.slice(1));

        // Add phase background bars
        g.selectAll('.phase-bg')
            .data(['foundations', 'applied', 'production', 'modern'])
            .enter()
            .append('rect')
            .attr('class', 'phase-bg')
            .attr('x', 0)
            .attr('y', d => yScale(d))
            .attr('width', width)
            .attr('height', yScale.bandwidth())
            .style('fill', d => phaseColors[d])
            .style('opacity', 0.1);

        // Create tooltip
        const tooltip = d3.select('body').append('div')
            .attr('class', 'tooltip')
            .style('opacity', 0);

        // Add project circles
        const projects = g.selectAll('.project')
            .data(timelineData)
            .enter()
            .append('circle')
            .attr('class', 'project')
            .attr('cx', d => xScale(d.date))
            .attr('cy', d => yScale(d.phase) + yScale.bandwidth()/2)
            .attr('r', d => Math.max(4, Math.min(12, d.duration/4)))
            .style('fill', d => categoryColors[d.category])
            .style('opacity', 0.8)
            .style('cursor', 'pointer')
            .style('stroke', '#c9d1d9')
            .style('stroke-width', 0.5)
            .on('mouseover', function(event, d) {
                tooltip.transition().duration(200).style('opacity', .9);
                tooltip.html(`
                    <strong>${d.title}</strong><br/>
                    <em>${d.description}</em><br/>
                    Date: ${d3.timeFormat("%B %Y")(d.date)}<br/>
                    Duration: ${d.duration} days<br/>
                    Category: ${d.category}<br/>
                    Phase: ${d.phase}
                `)
                .style('left', (event.pageX + 10) + 'px')
                .style('top', (event.pageY - 28) + 'px');
                
                d3.select(this)
                    .transition()
                    .duration(100)
                    .attr('r', d => Math.max(6, Math.min(16, d.duration/3)))
                    .style('opacity', 1);
            })
            .on('mouseout', function(d) {
                tooltip.transition().duration(500).style('opacity', 0);
                d3.select(this)
                    .transition()
                    .duration(100)
                    .attr('r', d => Math.max(4, Math.min(12, d.duration/4)))
                    .style('opacity', 0.8);
            });

        // Add legend
        const legend = svg.append('g')
            .attr('class', 'legend')
            .attr('transform', `translate(${width + margin.left + 20}, ${margin.top})`);

        const categories = Object.keys(categoryColors);
        const legendItems = legend.selectAll('.legend-item')
            .data(categories)
            .enter()
            .append('g')
            .attr('class', 'legend-item')
            .attr('transform', (d, i) => `translate(0, ${i * 25})`);

        legendItems.append('circle')
            .attr('cx', 8)
            .attr('cy', 0)
            .attr('r', 6)
            .style('fill', d => categoryColors[d]);

        legendItems.append('text')
            .attr('x', 20)
            .attr('y', 0)
            .attr('dy', '0.35em')
            .style('font-size', '12px')
            .style('fill', '#c9d1d9')
            .text(d => d);

        // Add animation on load
        projects
            .style('opacity', 0)
            .transition()
            .duration(100)
            .delay((d, i) => i * 50)
            .style('opacity', 0.8);

        // Filter functionality
        d3.selectAll('.filter-btn').on('click', function() {
            const filter = d3.select(this).attr('data-filter');
            
            // Update button states
            d3.selectAll('.filter-btn').classed('active', false);
            d3.select(this).classed('active', true);
            
            // Filter projects
            projects
                .style('opacity', d => {
                    if (filter === 'all') return 0.8;
                    return d.category === filter ? 0.8 : 0.1;
                })
                .style('pointer-events', d => {
                    if (filter === 'all') return 'all';
                    return d.category === filter ? 'all' : 'none';
                });
        });

    </script>
</body>
</html>